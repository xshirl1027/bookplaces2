{"version":3,"sources":["webpack:///src/app/bookings/bookings.page.html","webpack:///src/app/bookings/edit-booking/edit-booking.component.html","webpack:///src/app/bookings/bookings.module.ts","webpack:///src/app/bookings/bookings.page.scss","webpack:///src/app/bookings/bookings.page.ts","webpack:///src/app/bookings/edit-booking/edit-booking.component.scss","webpack:///src/app/bookings/edit-booking/edit-booking.component.ts"],"names":["routes","path","component","BookingsPageModule","imports","forChild","declarations","entryComponents","BookingsPage","bookingService","loadingCtrl","alertCtrl","placesService","modalCtrl","isLoading","bookingSub","bookings","subscribe","loadedBookings","console","log","fetchBookings","booking","slidingEl","getPlace","placeId","place","create","componentProps","selectedPlace","selectedBooking","then","modalEl","present","onDidDismiss","resultData","role","message","loadingEl","data","bookingData","updateBooking","id","title","imageDataUrl","firstName","lastName","guestNumber","Date","startDate","endDate","dismiss","bookingId","header","buttons","text","handler","close","cancelBooking","ctrl","unsubscribe","selector","template","EditBookingComponent","availableFrom","availableTo","form","valid","datesValid","value"],"mappings":"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","file":"bookings-bookings-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Your Bookings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\" class=\\\"ion-text-center\\\" *ngIf=\\\"isLoading\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n      </ion-col>\\n      <ion-col\\n        size-md=\\\"6\\\"\\n        offset-md=\\\"3\\\"\\n        *ngIf=\\\"!isLoading && (!loadedBookings || loadedBookings.length <= 0)\\\"\\n        class=\\\"ion-text-center\\\"\\n      >\\n        <p>No bookings found!</p>\\n      </ion-col>\\n      <ion-col\\n        size-md=\\\"6\\\"\\n        offset-md=\\\"3\\\"\\n        *ngIf=\\\"!isLoading && loadedBookings && loadedBookings.length > 0\\\"\\n      >\\n        <ion-list>\\n          <ion-item-sliding\\n            *ngFor=\\\"let booking of loadedBookings\\\"\\n            #slidingBooking\\n          >\\n            <ion-item>\\n              <ion-avatar slot=\\\"start\\\">\\n                  <ion-img src=\\\"https://lonelyplanetimages.imgix.net/mastheads/GettyImages-538096543_medium.jpg?sharp=10&vib=20&w=1200\\\"></ion-img>\\n              </ion-avatar>\\n              <ion-label>\\n                <h5>{{ booking.placeTitle }}</h5>\\n                <p class=\\\"date\\\"><b>From:</b> {{ booking.bookedFrom.toLocaleString() }} <b>To:</b>{{ booking.bookedTo.toLocaleString() }}</p>\\n                <p>Guests: {{ booking.guestNumber }} User Email: {{booking.userEmail}}</p>\\n                \\n              </ion-label>\\n            </ion-item>\\n            <ion-item-options>\\n              <ion-item-option\\n                color=\\\"danger\\\"\\n                (click)=\\\"onCancelBooking(booking.id, slidingBooking)\\\"\\n              >\\n                <ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\"></ion-icon>\\n              </ion-item-option>\\n              <ion-item-option\\n              color=\\\"secondary\\\"\\n              (click)=\\\"onEdit(booking, slidingBooking)\\\"\\n            >\\n              <ion-icon name=\\\"create\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-item-option>\\n            </ion-item-options>\\n          </ion-item-sliding>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{ selectedPlace.title }}</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button (click)=\\\"onCancel()\\\">\\n        <ion-icon name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-text-center\\\" padding>\\n  <form (ngSubmit)=\\\"onBookPlace()\\\" #f=\\\"ngForm\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">First Name</ion-label>\\n            <ion-input\\n              type=\\\"text\\\"\\n              [ngModel]='selectedBooking.firstName'\\n              name=\\\"first-name\\\"\\n              required\\n            ></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Last Name</ion-label>\\n            <ion-input\\n              type=\\\"text\\\"\\n              [ngModel]='selectedBooking.lastName'\\n              name=\\\"last-name\\\"\\n              required\\n            ></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Number of Guests</ion-label>\\n            <ion-select [ngModel]=\\\"selectedBooking.guestNumber\\\" name=\\\"guest-number\\\">\\n              <ion-select-option value=\\\"1\\\">1</ion-select-option>\\n              <ion-select-option value=\\\"2\\\">2</ion-select-option>\\n              <ion-select-option value=\\\"3\\\">3</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size-sm=\\\"3\\\" offset-sm=\\\"3\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">From</ion-label>\\n            <ion-datetime\\n              display-format=\\\"MMM DD YYYY\\\"\\n              picker-format=\\\"YY MMM DD\\\"\\n              [min]=\\\"selectedPlace.availableFrom.toISOString()\\\"\\n              [max]=\\\"selectedPlace.availableTo.toISOString()\\\"\\n              [ngModel]=\\\"selectedBooking.bookedFrom.toISOString()\\\"\\n              name=\\\"date-from\\\"\\n              required\\n              #startDateCtrl=\\\"ngModel\\\"\\n            ></ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col size-sm=\\\"3\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">To</ion-label>\\n            <ion-datetime\\n              display-format=\\\"MMM DD YYYY\\\"\\n              picker-format=\\\"YY MMM DD\\\"\\n              [min]=\\\"startDateCtrl.value\\\"\\n              [max]=\\\"selectedPlace.availableTo.toISOString()\\\"\\n              [ngModel]=\\\"selectedBooking.bookedTo.toISOString()\\\"\\n              name=\\\"date-to\\\"\\n              required\\n            ></ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size-sm=\\\"3\\\" offset-sm=\\\"3\\\">\\n          <ion-button\\n            type=\\\"submit\\\"\\n            color=\\\"primary\\\"\\n            expand=\\\"block\\\"\\n            [disabled]=\\\"!f.valid || !datesValid()\\\"\\n          >\\n            Save!\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size-sm=\\\"3\\\">\\n          <ion-button\\n            type=\\\"close\\\"\\n            color=\\\"primary\\\"\\n            expand=\\\"block\\\"\\n            (click)=\\\"onCancel()\\\"\\n          >\\n            Cancel\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookingsPage } from './bookings.page';\nimport { CreateBookingComponent } from './create-booking/create-booking.component';\nimport { EditBookingComponent } from './edit-booking/edit-booking.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BookingsPage, EditBookingComponent],\n  entryComponents: [EditBookingComponent]\n})\nexport class BookingsPageModule {}\n","export default \".date {\\n  white-space: nowrap;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYm9va2luZ3MvYm9va2luZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2Jvb2tpbmdzL2Jvb2tpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kYXRle1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59Il19 */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AlertController, IonItemSliding, LoadingController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { BookingService } from './booking.service';\nimport { Booking } from './booking.model';\nimport { EditBookingComponent} from './edit-booking/edit-booking.component';\nimport { PlacesService } from '../places/places.service';\nimport { Place } from '../places/place.model';\nimport { ModalController} from '@ionic/angular';\n@Component({\n  selector: 'app-bookings',\n  templateUrl: './bookings.page.html',\n  styleUrls: ['./bookings.page.scss']\n})\nexport class BookingsPage implements OnInit, OnDestroy {\n  loadedBookings: Booking[];\n  isLoading = false;\n  private bookingSub: Subscription;\n\n  constructor(\n    private bookingService: BookingService,\n    private loadingCtrl: LoadingController,\n    private alertCtrl: AlertController,\n    private placesService: PlacesService,\n    private modalCtrl: ModalController\n  ) {}\n\n  ngOnInit() {\n    this.bookingSub = this.bookingService.bookings.subscribe(bookings => {\n      this.loadedBookings = bookings;\n      console.log(bookings);\n    });\n  }\n\n  ionViewWillEnter() {\n    this.isLoading = true;\n    this.bookingService.fetchBookings().subscribe(() => {\n      this.isLoading = false;\n    });\n  }\n  onEdit(booking: Booking, slidingEl: IonItemSliding) {\n    console.log(booking);\n    this.placesService.getPlace(booking.placeId).subscribe((place:Place)=>{\n      this.modalCtrl\n      .create({\n        component: EditBookingComponent,\n        componentProps: { selectedPlace: place, selectedBooking: booking }\n      })\n      .then(modalEl => {\n        modalEl.present();\n        return modalEl.onDidDismiss();\n      })\n      .then(resultData => {\n        if (resultData.role === 'confirm') {\n          this.loadingCtrl\n            .create({ message: 'Booking place...' })\n            .then(loadingEl => {\n              loadingEl.present();\n              const data = resultData.data.bookingData;\n              console.log(data);\n              this.bookingService\n                .updateBooking(\n                  booking.id,\n                  place.id,\n                  place.title,\n                  place.imageDataUrl,\n                  data.firstName,\n                  data.lastName,\n                  data.guestNumber,\n                  new Date(data.startDate),\n                  new Date(data.endDate)\n                )\n                .subscribe(() => {\n                  loadingEl.dismiss();\n                });\n            });\n        }\n      });\n    });\n    \n  }\n  onCancelBooking(bookingId: string, slidingEl: IonItemSliding) {\n    this.alertCtrl.create({header: \"Delete\", message: \"Are you sure you want to delete booking?\", buttons: [{\n      text: 'Cancel',\n      role: 'cancel',\n      handler: () => {\n        slidingEl.close();\n        console.log('Cancel clicked');\n      }\n    },\n    {\n      text: 'Delete',\n      handler: () => {\n        slidingEl.close();\n        this.loadingCtrl.create({ message: 'Cancelling...' }).then(loadingEl => {\n          loadingEl.present();\n          this.bookingService.cancelBooking(bookingId).subscribe(() => {\n            loadingEl.dismiss();\n          });\n        });\n      }\n    }]})\n    .then((ctrl) => {\n      ctrl.present();\n    });\n   \n  }\n\n  ngOnDestroy() {\n    if (this.bookingSub) {\n      this.bookingSub.unsubscribe();\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Jvb2tpbmdzL2VkaXQtYm9va2luZy9lZGl0LWJvb2tpbmcuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { NgForm } from '@angular/forms';\n\nimport { Place } from '../../places/place.model';\nimport { Booking } from '../booking.model';\n@Component({\n  selector: 'app-edit-booking',\n  templateUrl: './edit-booking.component.html',\n  styleUrls: ['./edit-booking.component.scss']\n})\nexport class EditBookingComponent implements OnInit {\n  @Input() selectedPlace: Place;\n  @Input() selectedBooking: Booking;\n  @ViewChild('f', { static: false }) form: NgForm;\n  constructor(private modalCtrl: ModalController) {}\n\n  ngOnInit() {\n    const availableFrom = new Date(this.selectedPlace.availableFrom);\n    const availableTo = new Date(this.selectedPlace.availableTo);\n  }\n\n  onCancel() {\n    this.modalCtrl.dismiss(null, 'cancel');\n  }\n\n  onBookPlace() {\n    if (!this.form.valid || !this.datesValid()) {\n      return;\n    }\n\n    this.modalCtrl.dismiss(\n      {\n        bookingData: {\n          firstName: this.form.value['first-name'],\n          lastName: this.form.value['last-name'],\n          guestNumber: this.form.value['guest-number'],\n          startDate: new Date(this.form.value['date-from']),\n          endDate: new Date(this.form.value['date-to'])\n        }\n      },\n      'confirm'\n    );\n  }\n\n  datesValid() {\n    if (!this.form) {\n      return false;\n    }\n    const startDate = new Date(this.form.value['date-from']);\n    const endDate = new Date(this.form.value['date-to']);\n    return endDate > startDate;\n  }\n}\n"]}